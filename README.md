# StealthDropper

Fully automated Red Team dropper project that disguises PowerShell payloads as CSS and supports HID delivery via Raspberry Pi Pico 2 W (Rubber Ducky).

## 📁 Project Structure
```
stealth-dropper/
├── assets/                     # Static web files
│   ├── favicon.png
│   └── style.css              # Final CSS file with base64-encoded payload
│
├── payloads/
│   ├── reverse_raw.ps1        # Your reverse shell (to be encrypted)
│   ├── win11_stage1.ps1       # Stage 1 with inserted HEX (generated)
│   └── templates/
│       └── win11_stage1.template.ps1  # Template with <HEX_REPLACE>
│
├── tools/                     # Tooling and scripts
│   ├── build_and_run.sh       # 🧠 Master build script
│   ├── encode_payload.py      # XOR → HEX encoder
│   └── embed_payload.py       # base64 embedder to CSS
│
├── decrypt.html               # JS dropper page
├── duckyscript.txt            # Autogenerated Rubber Ducky HID script
├── favicon.ico
├── server.py                  # HTTP server
└── README.md
```

---

## 🚀 How to Use

### 1. Requirements:
- Python 3
- Pico 2 W (if using HID delivery)

### 2. Run the main script:
```bash
bash tools/build_and_run.sh
```

This script will:
- Let you select your IP address
- Ask for the reverse shell port (default: 4444)
- Insert the IP/port into `reverse_raw.ps1`
- XOR + HEX encrypt the payload
- Inject it into the stage 1 template
- Base64 encode the full result into `style.css`
- Generate `duckyscript.txt` with correct IP
- Launch an HTTP server and a `tmux` session running `nc -lvnp $PORT`

---

## 🐤 Rubber Ducky / Pico 2 W

1. Mount Pico as `CIRCUITPY`
2. Copy `duckyscript.txt` → `code.txt`
3. Plug into target machine
4. Script will:
   - Open browser to `decrypt.html`
   - Download `update_cache.ps1`
   - Execute it from memory via PowerShell

---

## 🎯 Purpose
- Gain reverse shell access from Windows target
- Avoid antivirus via XOR + ScriptBlock execution
- Automate all stages from payload prep to server delivery

---

## 🔧 Helpful Commands

To re-attach to the `tmux` session:
```bash
tmux attach -t stealth_listener
```

To check server status:
```bash
curl http://<your-ip>:8080/style.css
```

---

## 🔒 Legal & Safety Notice
This tool is for educational and authorized penetration testing only.  
Do NOT use against systems you do not own or have permission to test.

---

🔥 Happy hacking, and stay stealthy.
