# StealthDropper

Fully automated Red Team dropper project that disguises PowerShell payloads as CSS and supports HID delivery via Raspberry Pi Pico 2 W (Rubber Ducky).

## ğŸ“ Project Structure
```
stealth-dropper/
â”œâ”€â”€ assets/                     # Static web files
â”‚   â”œâ”€â”€ favicon.png
â”‚   â””â”€â”€ style.css              # Final CSS file with base64-encoded payload
â”‚
â”œâ”€â”€ payloads/
â”‚   â”œâ”€â”€ reverse_raw.ps1        # Your reverse shell (to be encrypted)
â”‚   â”œâ”€â”€ win11_stage1.ps1       # Stage 1 with inserted HEX (generated)
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ win11_stage1.template.ps1  # Template with <HEX_REPLACE>
â”‚
â”œâ”€â”€ tools/                     # Tooling and scripts
â”‚   â”œâ”€â”€ build_and_run.sh       # ğŸ§  Master build script
â”‚   â”œâ”€â”€ encode_payload.py      # XOR â†’ HEX encoder
â”‚   â””â”€â”€ embed_payload.py       # base64 embedder to CSS
â”‚
â”œâ”€â”€ decrypt.html               # JS dropper page
â”œâ”€â”€ duckyscript.txt            # Autogenerated Rubber Ducky HID script
â”œâ”€â”€ favicon.ico
â”œâ”€â”€ server.py                  # HTTP server
â””â”€â”€ README.md
```

---

## ğŸš€ How to Use

### 1. Requirements:
- Python 3
- Pico 2 W (if using HID delivery)

### 2. Run the main script:
```bash
bash tools/build_and_run.sh
```

This script will:
- Let you select your IP address
- Ask for the reverse shell port (default: 4444)
- Insert the IP/port into `reverse_raw.ps1`
- XOR + HEX encrypt the payload
- Inject it into the stage 1 template
- Base64 encode the full result into `style.css`
- Generate `duckyscript.txt` with correct IP
- Launch an HTTP server and a `tmux` session running `nc -lvnp $PORT`

---

## ğŸ¤ Rubber Ducky / Pico 2 W

1. Mount Pico as `CIRCUITPY`
2. Copy `duckyscript.txt` â†’ `code.txt`
3. Plug into target machine
4. Script will:
   - Open browser to `decrypt.html`
   - Download `update_cache.ps1`
   - Execute it from memory via PowerShell

---

## ğŸ¯ Purpose
- Gain reverse shell access from Windows target
- Avoid antivirus via XOR + ScriptBlock execution
- Automate all stages from payload prep to server delivery

---

## ğŸ”§ Helpful Commands

To re-attach to the `tmux` session:
```bash
tmux attach -t stealth_listener
```

To check server status:
```bash
curl http://<your-ip>:8080/style.css
```

---

## ğŸ”’ Legal & Safety Notice
This tool is for educational and authorized penetration testing only.  
Do NOT use against systems you do not own or have permission to test.

---

ğŸ”¥ Happy hacking, and stay stealthy.
